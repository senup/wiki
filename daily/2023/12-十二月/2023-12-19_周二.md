# Clippings


```shell
# PopClip - Obsidian extension, markdown variant
name: ClipToOB
icon: symbol:text.badge.plus
options:
- identifier: vault
  label: Vault Name
  type: string
capture html: true # this is needed when we want markdown text
javascript: | 
  const date = new Date();
  const timeString = date.toLocaleTimeString();
  const vaultName = encodeURIComponent(popclip.options.vault)
  let clipping = '\n' + popclip.input.markdown 
    if (popclip.context.browserUrl.length > 0) { 
    clipping += `\n\n time:${timeString} From:[${popclip.context.browserTitle}](${popclip.context.browserUrl})`
  }
  clipping += '\n\n---\n'
  clipping = encodeURIComponent(clipping)
  popclip.openUrl(`obsidian://advanced-uri?vault=${vaultName}&daily=true&data=%0A${clipping}&mode=append`)
#end

```

---

这是一个改进版本的PopClip扩展，可以将选定的Markdown文本添加到你的Obsidian每日笔记的"Clippings"标题下。

  

*   `name: ClipToOB` 和 `icon: symbol:text.badge.plus` 是扩展的名字和图标。
    
*   `options:` 中定义了一个选项，可以让用户配置他们的库名。
    
*   `capture html: true` 意味着选定的文本应被捕获为HTML文本，以便更好的转换为Markdown格式。
    
*   `javascript:` 的部分是扩展的主要逻辑。它首先对库名进行URL编码，然后在选定的内容前后添加两个换行符，如果选定的内容有来源URL，它会在内容之后添加该来源链接。然后在内容的结尾处添加一个分割线（三个连续的横线）。最后，它会通过`obsidian://`链接将编码后的内容添加到你的每日笔记的"Clippings"标题下。

  

如果你在浏览器中选择<u>了一段文本并点击了PopClip的`O`图标，这段文本会被添加到你的Obsidian库的当日笔记的"Clippings"标题下。如果这个</u>标题不存在，Obsidian会自动创建它。如果这个标题已经存在，新的内容将被追加到现有内容的后面。同时，如果你的选择内容有来源链接，那么这个链接会被一并添加到笔记中，在选定内容的后面。

  

注意：同样，你需要在 Obsidian 的设置中开启 URI 链接选项，才能让它正常工作。

From:   [gpt - Bots - Coze](https://www.coze.com/space/7312677347210346503/bot/7312678936809308178)

---


https://www.popclip.app/dev/icons#text-icons

From:   [图标 — PopClip 开发人员](https://www.popclip.app/dev/icons#text-icons)

---


可以通过多种不同方式在`icon`字段中指定图标：

*   作为文件名：`<filename>.png` 或 `<filename>.svg`。请参阅[图像文件](https://www.popclip.app/dev/icons#image-files)。
    
*   作为文本：`<text specifier>`。请参阅[文本图标](https://www.popclip.app/dev/icons#text-icons)。
    
*   作为表情符号：`🐶`。
    
*   作为 Iconify 图标：`iconify:<icon set prefix>:<icon name>`。请参阅[图标化图标](https://www.popclip.app/dev/icons#iconify-icons)。
    
*   作为 SF 符号：`symbol:<symbol name>`。请参阅[SF 符号图标](https://www.popclip.app/dev/icons#sf-symbols-icons)。
    
*   作为[原始数据](https://www.popclip.app/dev/icons#raw-data-icons)。

From:   [图标 — PopClip 开发人员](https://www.popclip.app/dev/icons#text-icons)

---


## 图像文件 [​](https://www.popclip.app/dev/icons#image-files)

如果您在扩展程序包中指定 PNG 或 SVG 图像文件的名称，则会使用该文件。

图像应在透明背景上呈现单色形状。可变不透明度可用于着色。

PNG 图标的高度应至少为 256 像素

From:   [图标 — PopClip 开发人员](https://www.popclip.app/dev/icons#text-icons)

---


## 脚本一：便捷的格式转换

    # popclip
    name: Markdown Helpers
    requirements: [text, paste]
    required apps: [md.obsidian, com.apple.mail]
    actions:
    - icon: symbol:highlighter
      title: 高亮
      javascript: popclip.pasteText('==' + popclip.input.text + '==')
    - icon: symbol:strikethrough
      title: 删除线
      javascript: popclip.pasteText('~~' + popclip.input.text + '~~')
    - icon: symbol:bold
      title: 加粗
      javascript: popclip.pasteText('**' + popclip.input.text + '**')
    - icon: symbol:italic
      title: 斜体
      javascript: popclip.pasteText('_' + popclip.input.text + '_')
    - icon: symbol:text.quote
      title: 引用
      javascript: popclip.pasteText('> ' + popclip.input.text)

From:   [分享两段Mac上的Popclip脚本（Markdown编辑和剪藏） - 经验分享 - Obsidian 中文论坛](https://forum-zh.obsidian.md/t/topic/16680)

---


```

    # popclip
    name: Markdown Helpers
    requirements: [text, paste]
    required apps: [md.obsidian, com.apple.mail]
    actions:
    - icon: symbol:lasso
      title: 代码块
      javascript: popclip.pasteText('```shell \n' + popclip.input.text + '\n```')
    - icon: symbol:highlighter
      title: 下划线
      javascript: popclip.pasteText('<u>' + popclip.input.text + '</u>')
    - icon: symbol:strikethrough
      title: 删除线
      javascript: popclip.pasteText('~~' + popclip.input.text + '~~')
    - icon: symbol:bold
      title: 加粗
      javascript: popclip.pasteText('**' + popclip.input.text + '**')
    - icon: symbol:italic
      title: 斜体
      javascript: popclip.pasteText('_' + popclip.input.text + '_')
    - icon: symbol:text.quote
      title: 引用
      javascript: popclip.pasteText('> ' + popclip.input.text)

```







# 🤖 PopClip Extensions Developer Reference[​](https://www.popclip.app/dev/#popclip-extensions-developer-reference)

This section of the documentation provides a detailed specification of PopClip's extensions architecture. With this information, you can create your own extensions.

From:   [PopClip Extensions Developer Reference](https://www.popclip.app/dev/)

---


### Types of actions[​](https://www.popclip.app/dev/#types-of-actions)

An extension defines one or more actions. Each action can be one of seven types:

Action Type

Description

[Shortcut](https://www.popclip.app/dev/shortcut-actions)

Send the selected text to a macOS Shortcut.

[Service](https://www.popclip.app/dev/service-actions)

Send the selected text to a macOS Service.

[URL](https://www.popclip.app/dev/url-actions)

Open a URL, with the selected text inserted as a query.

[Key Press](https://www.popclip.app/dev/key-press-actions)

Press a key combination.

[Shell Script](https://www.popclip.app/dev/shell-script-actions)

Run a shell script.

[AppleScript](https://www.popclip.app/dev/applescript-actions)

Run an AppleScript script.

[JavaScript](https://www.popclip.app/dev/js-actions)

Run a JavaScript or TypeScript script.

From:   [PopClip Extensions Developer Reference](https://www.popclip.app/dev/)

---




19:09:01
### Filter rules[​](https://www.popclip.app/dev/#filter-rules)

Extensions have access to the following filtering mechanisms to prevent actions from appearing when they are not helpful:

*   Filter by the current application
*   Filter by matching a regular expression against the selected text
*   Filter by whether cut, paste, or formatting is available
*   Filter by whether the text contains a URL, email address, or file path
*   Filter by the current values of the extensions's options

Filter rules are defined in the [action properties](https://www.popclip.app/dev/actions) under the `regex` key, `requirements` key, and `required apps`/`excluded apps` keys.

From:   [PopClip Extensions Developer Reference](https://www.popclip.app/dev/)

---




Time: 19:14:09 From:[PopClip Extensions Developer Reference](https://www.popclip.app/dev/)
PopClip extension packages published in the [directory](https://www.popclip.app/extensions/) are digitally signed. PopClip will install signed extensions without showing any warning to the user.

If you create your own extension, it will be unsigned. If an unsigned extension contains Shell Script actions or AppleScript actions, or has entitlements, PopClip will display a warning dialog when you try to install it:

---




```shell
# PopClip - Obsidian extension, markdown variant
name: ClipToOB
icon: symbol:text.badge.plus
options:
- identifier: vault
  label: Vault Name
  type: string
capture html: true
javascript: | 
  const [time, vaultName, urlTitle, url] = [
    new Date().toLocaleTimeString(),
    encodeURIComponent(popclip.options.vault),
    popclip.context.browserTitle,
    popclip.context.browserUrl
  ];
  
  let clipping = `${popclip.input.markdown}`;
  
  if (url.length > 0) clipping = `Time: ${time} \nFrom: [${urlTitle}](${url})\n\n${clipping}\n\n---`;
  
  clipping = encodeURIComponent(clipping);
  
  popclip.openUrl(`obsidian://advanced-uri?vault=${vaultName}&daily=true&data=%0A${clipping}&mode=append`);
#end

```


---



Time: 19:16:42 From:[PopClip Extensions Developer Reference](https://www.popclip.app/dev/)If you create your own extension, it will be unsigned. If an unsigned extension contains Shell Script actions or AppleScript actions, or has entitlements, PopClip will display a warning dialog when you try to install it:

---



Time: 19:17:42 From:[PopClip Extensions Developer Reference](https://www.popclip.app/dev/)If you create your own extension, it will be unsigned. If an unsigned extension contains Shell Script actions or AppleScript actions, or has entitlements, PopClip will display a warning dialog when you try to install it:

---



Time: 19:18:27 From:[PopClip Extensions Developer Reference](https://www.popclip.app/dev/)You can create extensions using any text editor. The macOS-included app TextEdit will suffice for simple snippets, but otherwise, I recommend using a dedicated code editor such as [VS Code](https://code.visualstudio.com/), [Sublime Text](https://www.sublimetext.com/), [BBEdit](https://www.barebones.com/products/bbedit/), or [Nova](https://nova.app/).

---



Time: 19:20:02 From:[PopClip Extensions Developer Reference](https://www.popclip.app/dev/)
You can create extensions using any text editor. The macOS-included app TextEdit will suffice for simple snippets, but otherwise, I recommend using a dedicated code editor such as [VS Code](https://code.visualstudio.com/), [Sublime Text](https://www.sublimetext.com/), [BBEdit](https://www.barebones.com/products/bbedit/), or [Nova](https://nova.app/).

---


Time: 19:21:57 From:[PopClip Extensions Developer Reference](https://www.popclip.app/dev/)
To filter the Console to show just PopClip extensions, enter Process "PopClip" and Category "Extension" in the Search field.

You can add this as a saved search by clicking the Save button in the toolbar:

---

Time: 19:22:30 From:[CSS 分享：自动隐藏式十字花左侧边栏 - 经验分享 - Obsidian 中文论坛](https://forum-zh.obsidian.md/t/topic/26605)
可以在鼠标离开后的消失加个时延，体验会更好些

---

Time: 19:23:01 From:[CSS 分享：自动隐藏式十字花左侧边栏 - 经验分享 - Obsidian 中文论坛](https://forum-zh.obsidian.md/t/topic/26605/4)
是 `transition-delay` 属性，正常时设一个值，hover时为0

---

Time: 19:25:34 From:[CSS 分享：自动隐藏式十字花左侧边栏 - 经验分享 - Obsidian 中文论坛](https://forum-zh.obsidian.md/t/topic/26605/4)

感谢建议，我为触发左侧栏显示加了一个时延，这样如果鼠标只是不小心划过左下角，不会立刻触发显示左侧栏。

---

Time: 19:25:51 
From:[CSS 分享：自动隐藏式十字花左侧边栏 - 经验分享 - Obsidian 中文论坛](https://forum-zh.obsidian.md/t/topic/26605/4)

是 `transition-delay` 属性，正常时设一个值，hover时为0

---

Time: 19:26:52 
From: [CSS 分享：自动隐藏式十字花左侧边栏 - 经验分享 - Obsidian 中文论坛](https://forum-zh.obsidian.md/t/topic/26605/5)

更新一个宽度更窄的版本。

---

Time: 19:27:29 
From: [Bilibili 简睿学堂频道停更一事 望周知 - 经验分享 - Obsidian 中文论坛](https://forum-zh.obsidian.md/t/topic/21732)

刚刚正在B站后台上传最新的影片，突然被强制登出，重新登入时被转址到要求实名认证的网页，要求实名认证并上传手持证件的照片等…

唉～我不过就是服务一下不方便科学上网的朋友们才开的频道，这下我也没办法再更新影片了。请有兴趣看我影片的朋友们移驾到YouTube吧。青山不改，绿水长流，期待与你在YouTube再相聚。

---

Time: 19:53:05 
From: [Bilibili 简睿学堂频道停更一事 望周知 - 经验分享 - Obsidian 中文论坛](https://forum-zh.obsidian.md/t/topic/21732)

话说你的blog，[https://jdev.tw/blog/feed， 46](https://jdev.tw/blog/feed，) 不能被rss阅读器识别呢？

---